{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file://E%3A/islamic-donation-management-system/helpers/getDataFromToken.ts"],"sourcesContent":["// import { NextRequest } from \"next/server\";\n// import jwt from \"jsonwebtoken\";\n// export const getDataFromToken = (request: NextRequest) => {\n//     try {\n//       const token = request.cookies.get(\"token\")?.value || '';\n//       const decodedToken: any = jwt.verify(token, process.env.TOKEN_SECRET!);\n  \n//       // Assuming the token contains both `id` and `role`\n//       return { id: decodedToken.id, role: decodedToken.role, username: decodedToken.username };\n//     } catch (error: any) {\n//       throw new Error(error.message);\n//     }\n//   };\n\nimport { NextRequest } from \"next/server\";\nimport jwt from \"jsonwebtoken\";\n\nexport const getDataFromToken = (request: NextRequest) => {\n  try {\n    const token = request.cookies.get(\"token\")?.value || '';\n    if (!token) throw new Error(\"Token not found\");\n\n    const decodedToken: any = jwt.verify(token, process.env.JWT_SECRET_KEY!);\n    return { id: decodedToken.id, role: decodedToken.role, username: decodedToken.username };  // Extract user details\n  } catch (error) {\n    throw new Error(error.message || \"Token verification failed\");\n  }\n};\n"],"names":[],"mappings":"AAAA,6CAA6C;AAC7C,kCAAkC;AAClC,8DAA8D;AAC9D,YAAY;AACZ,iEAAiE;AACjE,gFAAgF;AAEhF,4DAA4D;AAC5D,kGAAkG;AAClG,6BAA6B;AAC7B,wCAAwC;AACxC,QAAQ;AACR,OAAO;;;;AAGP;;AAEO,MAAM,mBAAmB,CAAC;IAC/B,IAAI;QACF,MAAM,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC,UAAU,SAAS;QACrD,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;QAE5B,MAAM,eAAoB,uIAAA,CAAA,UAAG,CAAC,MAAM,CAAC,OAAO,QAAQ,GAAG,CAAC,cAAc;QACtE,OAAO;YAAE,IAAI,aAAa,EAAE;YAAE,MAAM,aAAa,IAAI;YAAE,UAAU,aAAa,QAAQ;QAAC,GAAI,uBAAuB;IACpH,EAAE,OAAO,OAAO;QACd,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;AACF"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file://E%3A/islamic-donation-management-system/app/api/auth/get-user-details/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport { getDataFromToken } from \"@/helpers/getDataFromToken\";\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Get user details from token\r\n    const userDetails = getDataFromToken(request);\r\n    \r\n    return NextResponse.json({\r\n      success: true,\r\n      data: userDetails,  // Send user info to client\r\n    });\r\n  } catch (error) {\r\n    return NextResponse.json({\r\n      error: \"Unauthorized\",\r\n    }, { status: 401 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,8BAA8B;QAC9B,MAAM,cAAc,CAAA,GAAA,6HAAA,CAAA,mBAAgB,AAAD,EAAE;QAErC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;QACR;IACF,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,OAAO;QACT,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}